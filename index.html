<html>
<head>
	<title>Books to Movies</title>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<script src="http://d3js.org/topojson.v1.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Arvo:400,700|Oswald:400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="styles.css">
	<style>
		@font-face {
			font-family: Helvetica;
			font-weight: 400;
			src: url("./Helvetica/HelveticaNeueLTStd-UltLtEx.otf") format("opentype");
		}

		@font-face {
			font-family: Helvetica;
			font-weight: 600;
			src: url("./Helvetica/HelveticaNeueLTStd-LtEx.otf") format("opentype");
		}
    	svg {border: 1px black solid; }
		.axis path {fill: none; stroke: #000000; }
		.axis line {stroke: #000000; }
		.axis text { font-size: x-small; }
		body { font-family: "Helvetica"; } 
    </style>
</head>
<body>

<div id="title">
		<h2>Manuela Rios, Stephanie Cheuk, Romoli Bakshi</h2>
		<h1>FROM <strong>PAGE</strong> TO SCREEN</h1>
</div>

<div id="content">
	<div id="svg">

	<script>
		d3.json("./text.json", function(error, data) {

			var height = 500;
			var width = 800;
			var padding = 70;
			var svg = d3.select("#svg").append("svg").attr("height", height).attr("width", width);

			// xScale == tomatoRating (movie)
			var xScale = d3.scale.linear().domain([3,10]).range([padding, width - padding]);
			var xAxis = d3.svg.axis().scale(xScale);
			svg.append("g")
			  .attr("class", "axis")
			  .attr("transform", "translate(0, " + (height - padding) + ")")
			  .call(xAxis);
			// yScale == bookRating (book)
			var yScale = d3.scale.linear().domain([3,5]).range([height - padding, padding]);
			var yAxis = d3.svg.axis().scale(yScale).orient("left");
			svg.append("g")
				.attr("class", "axis")
				.attr("transform", "translate(" + padding + ", 0)")
				.call(yAxis);
			// Add labels
			var xLabel = svg.append("text")
				.attr("x", width / 2)
				.attr("y", height - (padding / 3))
				.style("text-anchor", "middle")
				.text("IMDB Movie Ratings");
			var yLabel = svg.append("text")
				.attr("x", padding / 3)
				.attr("y", height / 2)
				.attr("transform", "rotate(270 " + padding / 3 + "," + height / 2 + ")")
				.style("text-anchor", "middle")
				.text("GoodReads Book Ratings");
			var title = svg.append("text")
				.attr("x", width / 2)
				.attr("y", padding / 2)
				.style("text-anchor", "middle")
				.text("Movie Book Adaptions: Rating Comparisons");

			// Appending Data
			var circles = svg.append("g");
			circles.selectAll("#circles")
				.data(data)
				.enter()
				.append("circle")
				.attr("cx", function (d) {
					return xScale(Number(d.imdbRating));
				})
				.attr("cy", function (d) {
					return yScale(Number(d.bookRating));
				})
				.attr("r", 10)
				.style("fill", function (d) {	
					if (d.genre.indexOf("Adventure") != -1) {
						return "#3A539B"; // blue
					}
					if (d.genre.indexOf("Romance") != -1) {
						return "#D24D57"; // pink
					}
					if (d.genre.indexOf("Thriller") != -1) {
						return "#6C7A89"; // grey-blue
					}
					if (d.genre.indexOf("Comedy") != -1) {
						return "#F9BF3B"; // yellow
					}
					if (d.genre.indexOf("Drama") != -1) {
						return "#913D88"; // purple
					}			
					else {
						return "green"; // other
					}
				})
				.style("opacity", 0.7);	
		}); 

	</script>
	</div>
</div>

<div id="popcorn">
	<img id="popimg" src="popcorn.png" alt="popcorn">
</div>

</body>
</html>